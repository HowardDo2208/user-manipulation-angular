<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div *ngIf="isCreate" class="card-header">Add User</div>
        <div *ngIf="!isCreate" class="card-header">Edit User</div>

        <div class="card-body">
          <form autocomplete="off" [formGroup]="createForm" (ngSubmit)="onSubmit()">
            <div class="form-group row">
              <label for="name" class="col-md-4 col-form-label text-md-right">Name</label>
              <div class="col-md-6">
                <input id="name" type="text" class="form-control" name="name" formControlName="name" [ngClass]="{'is-invalid': submitted && f.name.errors}">
                <div *ngIf="submitted && f.name.errors" class="invalid-feedback">
                  <div *ngIf="f.name.errors.required">Name is required</div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="email" class="col-md-4 col-form-label text-md-right">Email Address</label>

              <div class="col-md-6">
                <input id="email" type="email" class="form-control" name="email"  formControlName="email" [ngClass]="{'is-invalid': submitted && f.email.errors}">
                <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                  <div *ngIf="f.email.errors.required">Email is required</div>
                  <div *ngIf="f.email.errors.email">Email must be valid</div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="password" class="col-md-4 col-form-label text-md-right">Password</label>

              <div class="col-md-6">
                <input id="password" type="password" class="form-control" name="password" formControlName="password" [ngClass]="{'is-invalid': submitted && f.password.errors}">
                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                  <div *ngIf="f.password.errors.required">Password is required</div>
                  <div *ngIf="f.password.errors.minlength">Password must be at least 8 characters</div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="password-confirm" class="col-md-4 col-form-label text-md-right">Confirm Password</label>

              <div class="col-md-6">
                <input id="password-confirm" type="password" class="form-control" name="password_confirmation" formControlName="confirmPassword" [ngClass]="{'is-invalid': submitted && f.confirmPassword.errors}">
                <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
                  <div *ngIf="f.confirmPassword.errors.required">Password Confirmation is required</div>
                  <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match!</div>
                </div>
              </div>
            </div>



            <div class="form-group row">
              <label for="geo-region" class="col-md-4 col-form-label text-md-right">Region</label>
              <div class="col-md-6">
                <select class="form-control" id="geo-region" name="geoRegionId" formControlName="geoRegionId" (change)="onChangeRegion($event.target.value)" [ngClass]="{'is-invalid': submitted && f.geoRegionId.errors}">
                  <option value="" selected>Select Region</option>
                  <option *ngFor="let region of regions" [value]="region.geoRegionId">{{region.geoRegionName}}</option>
                  <div *ngIf="submitted && f.geoRegionId.errors" class="invalid-feedback">
                    <div *ngIf="f.geoRegionId.errors.required">Region is required</div>
                  </div>
                </select>
              </div>
            </div>

            <div class="form-group row">
              <label for="geo-district" class="col-md-4 col-form-label text-md-right">District</label>
              <div class="col-md-6">
                    <select class="form-control" id="geo-district" name="geoDistrictId"  formControlName="geoDistrictId" (change)="onChangeDistrict($event.target.value)" [ngClass]="{'is-invalid': submitted && f.geoDistrictId.errors}">
                      <option *ngIf="districts" value="" selected>Select District</option>
                      <option *ngFor="let district of districts" [value]="district.geoDistrictId">{{district.geoDistrictName}}</option>
                    </select>
                    <div *ngIf="submitted && f.geoDistrictId.errors" class="invalid-feedback">
                      <div *ngIf="f.geoDistrictId.errors.required">District is required</div>
                    </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="geo-township" class="col-md-4 col-form-label text-md-right">Town Ship</label>
              <div class="col-md-6">
                <select class="form-control" id="geo-township" name="geoTownShipId" formControlName="geoTownShipId" (change)="onChangeTownShip($event.target.value)" [ngClass]="{'is-invalid': submitted && f.geoTownShipId.errors}">
                  <option *ngIf="townShips" value="" selected>Select Township</option>
                  <option *ngFor="let townShip of townShips" [value]="townShip.geoTownShipId">{{townShip.geoTownShipName}}</option>
                </select>
                <div *ngIf="submitted && f.geoTownShipId.errors" class="invalid-feedback">
                  <div *ngIf="f.geoTownShipId.errors.required">town ship is required</div>
                </div>
              </div>
            </div>

            <div class="form-group row">
              <label for="geo-town" class="col-md-4 col-form-label text-md-right">Town</label>
              <div class="col-md-6">
                <select class="form-control" id="geo-town" name="geoTownId" formControlName="geoTownId"[ngClass]="{'is-invalid': submitted && f.geoTownId.errors}">
                  <option *ngIf="towns" value="" selected>Select Town</option>
                  <option *ngFor="let town of towns" [value]="town.geoTownId">{{town.geoTownName}}</option>
                </select>
                <div *ngIf="submitted && f.geoTownId.errors" class="invalid-feedback">
                  <div *ngIf="f.geoTownId.errors.required">Town is required</div>
                </div>
              </div>
            </div>

            <div class="form-group row mb-0">
              <div class="col-md-6 offset-md-4">
                <button *ngIf="isCreate" type="submit" class="btn btn-primary">
                  Add User
                </button>
                <button *ngIf="!isCreate" type="submit" class="btn btn-primary">
                  Update User
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>


